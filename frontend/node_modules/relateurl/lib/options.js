"use strict";

var objUtils = require("./util/object");



function getOptions(options, defaults)
{
	if ( objUtils.isPlainObject(options) )
	{
		var newOptions = {***REMOVED***;
		
		for (var i in defaults)
		{
			if ( defaults.hasOwnProperty(i) )
			{
				if (options[i] !== undefined)
				{
					newOptions[i] = mergeOption(options[i], defaults[i]);
				***REMOVED***
				else
				{
					newOptions[i] = defaults[i];
				***REMOVED***
			***REMOVED***
		***REMOVED***
		
		return newOptions;
	***REMOVED***
	else
	{
		return defaults;
	***REMOVED***
***REMOVED***



function mergeOption(newValues, defaultValues)
{
	if (defaultValues instanceof Object && newValues instanceof Object)
	{
		if (defaultValues instanceof Array && newValues instanceof Array)
		{
			return defaultValues.concat(newValues);
		***REMOVED***
		else
		{
			return objUtils.shallowMerge(newValues, defaultValues);
		***REMOVED***
	***REMOVED***
	
	return newValues;
***REMOVED***



module.exports = getOptions;
