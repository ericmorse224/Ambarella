!function(n){"use strict";function t(r){var n;function t(){i("when",t)&&e()***REMOVED***function i(n,t){return!!r[n]()||(r.count+=1,0<=(u=r).limit&&u.count>=u.limit?r.fail():(i=t,e=function(n){var t=n.interval;n.interval<0&&(n.interval*=2);return t***REMOVED***(r),setTimeout(i,Math.abs(e))),!1);var i,e,u***REMOVED***function e(){var n;if(0===r.action.length)return(n=r.action())&&f(n.then)?n.then(u,u):u();r.action(u)***REMOVED***function u(){i("until",e)&&r.pass()***REMOVED***r={count:0,when:o((n=(n=r)||{***REMOVED***).when),until:o(n.until),action:c(n.action),fail:c(n.fail),pass:c(n.pass),interval:a(n.interval,-1e3),limit:a(n.limit,-1)***REMOVED***,t()***REMOVED***function o(n){return u(n,f,i)***REMOVED***function f(n){return"function"==typeof n***REMOVED***function i(){return!0***REMOVED***function c(n){return u(n,f,e)***REMOVED***function e(){***REMOVED***function u(n,t,i){return t(n)?n:i***REMOVED***function a(n,t){return u(n,r,t)***REMOVED***function r(n){return"number"==typeof n&&n==n***REMOVED***"function"==typeof define&&define.amd?define(function(){return t***REMOVED***):"undefined"!=typeof module&&null!==module?module.exports=t:n.tryer=t***REMOVED***(this);