/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

"use strict";

const { SAFE_IDENTIFIER, RESERVED_IDENTIFIER ***REMOVED*** = require("./propertyName");

/**
 * @param {ArrayLike<string>***REMOVED*** properties properties
 * @param {number***REMOVED*** start start index
 * @returns {string***REMOVED*** chain of property accesses
 */
const propertyAccess = (properties, start = 0) => {
	let str = "";
	for (let i = start; i < properties.length; i++) {
		const p = properties[i];
		if (`${Number(p)***REMOVED***` === p) {
			str += `[${p***REMOVED***]`;
		***REMOVED*** else if (SAFE_IDENTIFIER.test(p) && !RESERVED_IDENTIFIER.has(p)) {
			str += `.${p***REMOVED***`;
		***REMOVED*** else {
			str += `[${JSON.stringify(p)***REMOVED***]`;
		***REMOVED***
	***REMOVED***
	return str;
***REMOVED***;

module.exports = propertyAccess;
