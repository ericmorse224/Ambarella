'use strict';

/**
 * @param {import('postcss').AnyNode***REMOVED*** nodeA
 * @param {import('postcss').AnyNode***REMOVED*** nodeB
 * @return {boolean***REMOVED***
 */
function checkMatch(nodeA, nodeB) {
  if (nodeA.type === 'atrule' && nodeB.type === 'atrule') {
    return (
      nodeA.params === nodeB.params &&
      nodeA.name.toLowerCase() === nodeB.name.toLowerCase()
    );
  ***REMOVED***
  return nodeA.type === nodeB.type;
***REMOVED***

/** @typedef {import('postcss').AnyNode & {parent?: Child***REMOVED******REMOVED*** Child */
/**
 * @param {Child***REMOVED*** nodeA
 * @param {Child***REMOVED*** nodeB
 * @return {boolean***REMOVED***
 */
function sameParent(nodeA, nodeB) {
  if (!nodeA.parent) {
    // A is orphaned, return if B is orphaned as well
    return !nodeB.parent;
  ***REMOVED***

  if (!nodeB.parent) {
    // B is orphaned and A is not
    return false;
  ***REMOVED***

  // Check if parents match
  if (!checkMatch(nodeA.parent, nodeB.parent)) {
    return false;
  ***REMOVED***

  // Check parents' parents
  return sameParent(nodeA.parent, nodeB.parent);
***REMOVED***

module.exports = sameParent;
