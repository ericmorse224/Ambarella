"use strict";

/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  ***REMOVED***
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  ***REMOVED***
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  ***REMOVED***
  css += obj.css;
  if (needLayer) {
    css += "***REMOVED***";
  ***REMOVED***
  if (obj.media) {
    css += "***REMOVED***";
  ***REMOVED***
  if (obj.supports) {
    css += "***REMOVED***";
  ***REMOVED***
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  ***REMOVED***

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
***REMOVED***
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  ***REMOVED***
  styleElement.parentNode.removeChild(styleElement);
***REMOVED***

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {***REMOVED***,
      remove: function remove() {***REMOVED***
    ***REMOVED***;
  ***REMOVED***
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    ***REMOVED***,
    remove: function remove() {
      removeStyleElement(styleElement);
    ***REMOVED***
  ***REMOVED***;
***REMOVED***
module.exports = domAPI;