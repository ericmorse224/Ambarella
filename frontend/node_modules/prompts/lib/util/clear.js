'use strict';

const strip = require('./strip');
const { erase, cursor ***REMOVED*** = require('sisteransi');

const width = str => [...strip(str)].length;

/**
 * @param {string***REMOVED*** prompt
 * @param {number***REMOVED*** perLine
 */
module.exports = function(prompt, perLine) {
  if (!perLine) return erase.line + cursor.to(0);

  let rows = 0;
  const lines = prompt.split(/\r?\n/);
  for (let line of lines) {
    rows += 1 + Math.floor(Math.max(width(line) - 1, 0) / perLine);
  ***REMOVED***

  return erase.lines(rows);
***REMOVED***;
