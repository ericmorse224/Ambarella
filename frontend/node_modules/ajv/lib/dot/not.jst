{{# def.definitions ***REMOVED******REMOVED***
{{# def.errors ***REMOVED******REMOVED***
{{# def.setupKeyword ***REMOVED******REMOVED***
{{# def.setupNextLevel ***REMOVED******REMOVED***

{{? {{# def.nonEmptySchema:$schema ***REMOVED******REMOVED*** ***REMOVED******REMOVED***
  {{
    $it.schema = $schema;
    $it.schemaPath = $schemaPath;
    $it.errSchemaPath = $errSchemaPath;
  ***REMOVED******REMOVED***

  var {{=$errs***REMOVED******REMOVED*** = errors;

  {{# def.setCompositeRule ***REMOVED******REMOVED***

  {{
    $it.createErrors = false;
    var $allErrorsOption;
    if ($it.opts.allErrors) {
      $allErrorsOption = $it.opts.allErrors;
      $it.opts.allErrors = false;
    ***REMOVED***
  ***REMOVED******REMOVED***
  {{= it.validate($it) ***REMOVED******REMOVED***
  {{
    $it.createErrors = true;
    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;
  ***REMOVED******REMOVED***

  {{# def.resetCompositeRule ***REMOVED******REMOVED***

  if ({{=$nextValid***REMOVED******REMOVED***) {
    {{# def.error:'not' ***REMOVED******REMOVED***
  ***REMOVED*** else {
    {{# def.resetErrors ***REMOVED******REMOVED***
  {{? it.opts.allErrors ***REMOVED******REMOVED*** ***REMOVED*** {{?***REMOVED******REMOVED***
{{??***REMOVED******REMOVED***
  {{# def.addError:'not' ***REMOVED******REMOVED***
  {{? $breakOnError***REMOVED******REMOVED***
    if (false) {
  {{?***REMOVED******REMOVED***
{{?***REMOVED******REMOVED***
