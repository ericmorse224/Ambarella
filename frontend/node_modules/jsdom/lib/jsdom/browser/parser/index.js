"use strict";

const xmlParser = require("./xml");
const htmlParser = require("./html");

// https://w3c.github.io/DOM-Parsing/#dfn-fragment-parsing-algorithm
function parseFragment(markup, contextElement) {
  const { _parsingMode ***REMOVED*** = contextElement._ownerDocument;

  let parseAlgorithm;
  if (_parsingMode === "html") {
    parseAlgorithm = htmlParser.parseFragment;
  ***REMOVED*** else if (_parsingMode === "xml") {
    parseAlgorithm = xmlParser.parseFragment;
  ***REMOVED***

  // Note: HTML and XML fragment parsing algorithm already return a document fragments; no need to do steps 3 and 4
  return parseAlgorithm(markup, contextElement);
***REMOVED***

function parseIntoDocument(markup, ownerDocument) {
  const { _parsingMode ***REMOVED*** = ownerDocument;

  let parseAlgorithm;
  if (_parsingMode === "html") {
    parseAlgorithm = htmlParser.parseIntoDocument;
  ***REMOVED*** else if (_parsingMode === "xml") {
    parseAlgorithm = xmlParser.parseIntoDocument;
  ***REMOVED***

  return parseAlgorithm(markup, ownerDocument);
***REMOVED***

module.exports = {
  parseFragment,
  parseIntoDocument
***REMOVED***;
