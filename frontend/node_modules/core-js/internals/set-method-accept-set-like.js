'use strict';
var getBuiltIn = require('../internals/get-built-in');

var createSetLike = function (size) {
  return {
    size: size,
    has: function () {
      return false;
    ***REMOVED***,
    keys: function () {
      return {
        next: function () {
          return { done: true ***REMOVED***;
        ***REMOVED***
      ***REMOVED***;
    ***REMOVED***
  ***REMOVED***;
***REMOVED***;

var createSetLikeWithInfinitySize = function (size) {
  return {
    size: size,
    has: function () {
      return true;
    ***REMOVED***,
    keys: function () {
      throw new Error('e');
    ***REMOVED***
  ***REMOVED***;
***REMOVED***;

module.exports = function (name, callback) {
  var Set = getBuiltIn('Set');
  try {
    new Set()[name](createSetLike(0));
    try {
      // late spec change, early WebKit ~ Safari 17 implementation does not pass it
      // https://github.com/tc39/proposal-set-methods/pull/88
      // also covered engines with
      // https://bugs.webkit.org/show_bug.cgi?id=272679
      new Set()[name](createSetLike(-1));
      return false;
    ***REMOVED*** catch (error2) {
      if (!callback) return true;
      // early V8 implementation bug
      // https://issues.chromium.org/issues/351332634
      try {
        new Set()[name](createSetLikeWithInfinitySize(-Infinity));
        return false;
      ***REMOVED*** catch (error) {
        var set = new Set();
        set.add(1);
        set.add(2);
        return callback(set[name](createSetLikeWithInfinitySize(Infinity)));
      ***REMOVED***
    ***REMOVED***
  ***REMOVED*** catch (error) {
    return false;
  ***REMOVED***
***REMOVED***;
