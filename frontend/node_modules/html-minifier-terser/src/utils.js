'use strict';

function createMap(values, ignoreCase) {
  var map = {***REMOVED***;
  values.forEach(function(value) {
    map[value] = 1;
  ***REMOVED***);
  return ignoreCase ? function(value) {
    return map[value.toLowerCase()] === 1;
  ***REMOVED*** : function(value) {
    return map[value] === 1;
  ***REMOVED***;
***REMOVED***

async function replaceAsync(str, regex, asyncFn) {
  const promises = [];
  str.replace(regex, (match, ...args) => {
    const promise = asyncFn(match, ...args);
    promises.push(promise);
  ***REMOVED***);
  const data = await Promise.all(promises);
  return str.replace(regex, () => data.shift());
***REMOVED***


exports.createMap = createMap;
exports.createMapFromString = function(values, ignoreCase) {
  return createMap(values.split(/,/), ignoreCase);
***REMOVED***;

exports.replaceAsync = replaceAsync;
