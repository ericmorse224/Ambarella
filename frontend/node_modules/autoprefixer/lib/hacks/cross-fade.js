let list = require('postcss').list

let Value = require('../value')

class CrossFade extends Value {
  replace(string, prefix) {
    return list
      .space(string)
      .map(value => {
        if (value.slice(0, +this.name.length + 1) !== this.name + '(') {
          return value
        ***REMOVED***

        let close = value.lastIndexOf(')')
        let after = value.slice(close + 1)
        let args = value.slice(this.name.length + 1, close)

        if (prefix === '-webkit-') {
          let match = args.match(/\d*.?\d+%?/)
          if (match) {
            args = args.slice(match[0].length).trim()
            args += `, ${match[0]***REMOVED***`
          ***REMOVED*** else {
            args += ', 0.5'
          ***REMOVED***
        ***REMOVED***
        return prefix + this.name + '(' + args + ')' + after
      ***REMOVED***)
      .join(' ')
  ***REMOVED***
***REMOVED***

CrossFade.names = ['cross-fade']

module.exports = CrossFade
