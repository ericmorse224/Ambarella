import { map ***REMOVED*** from './common/map.js';
import { nullTag ***REMOVED*** from './common/null.js';
import { seq ***REMOVED*** from './common/seq.js';
import { string ***REMOVED*** from './common/string.js';
import { boolTag ***REMOVED*** from './core/bool.js';
import { float, floatExp, floatNaN ***REMOVED*** from './core/float.js';
import { int, intHex, intOct ***REMOVED*** from './core/int.js';
import { schema ***REMOVED*** from './core/schema.js';
import { schema as schema$1 ***REMOVED*** from './json/schema.js';
import { binary ***REMOVED*** from './yaml-1.1/binary.js';
import { merge ***REMOVED*** from './yaml-1.1/merge.js';
import { omap ***REMOVED*** from './yaml-1.1/omap.js';
import { pairs ***REMOVED*** from './yaml-1.1/pairs.js';
import { schema as schema$2 ***REMOVED*** from './yaml-1.1/schema.js';
import { set ***REMOVED*** from './yaml-1.1/set.js';
import { timestamp, floatTime, intTime ***REMOVED*** from './yaml-1.1/timestamp.js';

const schemas = new Map([
    ['core', schema],
    ['failsafe', [map, seq, string]],
    ['json', schema$1],
    ['yaml11', schema$2],
    ['yaml-1.1', schema$2]
]);
const tagsByName = {
    binary,
    bool: boolTag,
    float,
    floatExp,
    floatNaN,
    floatTime,
    int,
    intHex,
    intOct,
    intTime,
    map,
    merge,
    null: nullTag,
    omap,
    pairs,
    seq,
    set,
    timestamp
***REMOVED***;
const coreKnownTags = {
    'tag:yaml.org,2002:binary': binary,
    'tag:yaml.org,2002:merge': merge,
    'tag:yaml.org,2002:omap': omap,
    'tag:yaml.org,2002:pairs': pairs,
    'tag:yaml.org,2002:set': set,
    'tag:yaml.org,2002:timestamp': timestamp
***REMOVED***;
function getTags(customTags, schemaName, addMergeTag) {
    const schemaTags = schemas.get(schemaName);
    if (schemaTags && !customTags) {
        return addMergeTag && !schemaTags.includes(merge)
            ? schemaTags.concat(merge)
            : schemaTags.slice();
    ***REMOVED***
    let tags = schemaTags;
    if (!tags) {
        if (Array.isArray(customTags))
            tags = [];
        else {
            const keys = Array.from(schemas.keys())
                .filter(key => key !== 'yaml11')
                .map(key => JSON.stringify(key))
                .join(', ');
            throw new Error(`Unknown schema "${schemaName***REMOVED***"; use one of ${keys***REMOVED*** or define customTags array`);
        ***REMOVED***
    ***REMOVED***
    if (Array.isArray(customTags)) {
        for (const tag of customTags)
            tags = tags.concat(tag);
    ***REMOVED***
    else if (typeof customTags === 'function') {
        tags = customTags(tags.slice());
    ***REMOVED***
    if (addMergeTag)
        tags = tags.concat(merge);
    return tags.reduce((tags, tag) => {
        const tagObj = typeof tag === 'string' ? tagsByName[tag] : tag;
        if (!tagObj) {
            const tagName = JSON.stringify(tag);
            const keys = Object.keys(tagsByName)
                .map(key => JSON.stringify(key))
                .join(', ');
            throw new Error(`Unknown custom tag ${tagName***REMOVED***; use one of ${keys***REMOVED***`);
        ***REMOVED***
        if (!tags.includes(tagObj))
            tags.push(tagObj);
        return tags;
    ***REMOVED***, []);
***REMOVED***

export { coreKnownTags, getTags ***REMOVED***;
