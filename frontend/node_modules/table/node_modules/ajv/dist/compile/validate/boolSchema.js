"use strict";
Object.defineProperty(exports, "__esModule", { value: true ***REMOVED***);
exports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;
const errors_1 = require("../errors");
const codegen_1 = require("../codegen");
const names_1 = require("../names");
const boolError = {
    message: "boolean schema is false",
***REMOVED***;
function topBoolOrEmptySchema(it) {
    const { gen, schema, validateName ***REMOVED*** = it;
    if (schema === false) {
        falseSchemaError(it, false);
    ***REMOVED***
    else if (typeof schema == "object" && schema.$async === true) {
        gen.return(names_1.default.data);
    ***REMOVED***
    else {
        gen.assign((0, codegen_1._) `${validateName***REMOVED***.errors`, null);
        gen.return(true);
    ***REMOVED***
***REMOVED***
exports.topBoolOrEmptySchema = topBoolOrEmptySchema;
function boolOrEmptySchema(it, valid) {
    const { gen, schema ***REMOVED*** = it;
    if (schema === false) {
        gen.var(valid, false); // TODO var
        falseSchemaError(it);
    ***REMOVED***
    else {
        gen.var(valid, true); // TODO var
    ***REMOVED***
***REMOVED***
exports.boolOrEmptySchema = boolOrEmptySchema;
function falseSchemaError(it, overrideAllErrors) {
    const { gen, data ***REMOVED*** = it;
    // TODO maybe some other interface should be used for non-keyword validation errors...
    const cxt = {
        gen,
        keyword: "false schema",
        data,
        schema: false,
        schemaCode: false,
        schemaValue: false,
        params: {***REMOVED***,
        it,
    ***REMOVED***;
    (0, errors_1.reportError)(cxt, boolError, undefined, overrideAllErrors);
***REMOVED***
//# sourceMappingURL=boolSchema.js.map