'use strict';
const os = require('os');
const fs = require('fs');
const isDocker = require('is-docker');

const isWsl = () => {
	if (process.platform !== 'linux') {
		return false;
	***REMOVED***

	if (os.release().toLowerCase().includes('microsoft')) {
		if (isDocker()) {
			return false;
		***REMOVED***

		return true;
	***REMOVED***

	try {
		return fs.readFileSync('/proc/version', 'utf8').toLowerCase().includes('microsoft') ?
			!isDocker() : false;
	***REMOVED*** catch (_) {
		return false;
	***REMOVED***
***REMOVED***;

if (process.env.__IS_WSL_TEST__) {
	module.exports = isWsl;
***REMOVED*** else {
	module.exports = isWsl();
***REMOVED***
