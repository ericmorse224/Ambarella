"use strict";

const STRIP_FILENAME_RE = /^[^:]+: /;
const format = err => {
  if (err instanceof SyntaxError) {
    err.name = "SyntaxError";
    err.message = err.message.replace(STRIP_FILENAME_RE, "");
    err.hideStack = true;
  ***REMOVED*** else if (err instanceof TypeError) {
    err.name = null;
    err.message = err.message.replace(STRIP_FILENAME_RE, "");
    err.hideStack = true;
  ***REMOVED***
  return err;
***REMOVED***;
class LoaderError extends Error {
  constructor(err) {
    super();
    const {
      name,
      message,
      codeFrame,
      hideStack
    ***REMOVED*** = format(err);
    this.name = "BabelLoaderError";
    this.message = `${name ? `${name***REMOVED***: ` : ""***REMOVED***${message***REMOVED***\n\n${codeFrame***REMOVED***\n`;
    this.hideStack = hideStack;
    Error.captureStackTrace(this, this.constructor);
  ***REMOVED***
***REMOVED***
module.exports = LoaderError;