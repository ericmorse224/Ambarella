/** @typedef {"info" | "warning" | "error"***REMOVED*** LogLevel */

/** @type {LogLevel***REMOVED*** */
var logLevel = "info";

function dummy() {***REMOVED***

/**
 * @param {LogLevel***REMOVED*** level log level
 * @returns {boolean***REMOVED*** true, if should log
 */
function shouldLog(level) {
	var shouldLog =
		(logLevel === "info" && level === "info") ||
		(["info", "warning"].indexOf(logLevel) >= 0 && level === "warning") ||
		(["info", "warning", "error"].indexOf(logLevel) >= 0 && level === "error");
	return shouldLog;
***REMOVED***

/**
 * @param {(msg?: string) => void***REMOVED*** logFn log function
 * @returns {(level: LogLevel, msg?: string) => void***REMOVED*** function that logs when log level is sufficient
 */
function logGroup(logFn) {
	return function (level, msg) {
		if (shouldLog(level)) {
			logFn(msg);
		***REMOVED***
	***REMOVED***;
***REMOVED***

/**
 * @param {LogLevel***REMOVED*** level log level
 * @param {string|Error***REMOVED*** msg message
 */
module.exports = function (level, msg) {
	if (shouldLog(level)) {
		if (level === "info") {
			console.log(msg);
		***REMOVED*** else if (level === "warning") {
			console.warn(msg);
		***REMOVED*** else if (level === "error") {
			console.error(msg);
		***REMOVED***
	***REMOVED***
***REMOVED***;

var group = console.group || dummy;
var groupCollapsed = console.groupCollapsed || dummy;
var groupEnd = console.groupEnd || dummy;

module.exports.group = logGroup(group);

module.exports.groupCollapsed = logGroup(groupCollapsed);

module.exports.groupEnd = logGroup(groupEnd);

/**
 * @param {LogLevel***REMOVED*** level log level
 */
module.exports.setLogLevel = function (level) {
	logLevel = level;
***REMOVED***;

/**
 * @param {Error***REMOVED*** err error
 * @returns {string***REMOVED*** formatted error
 */
module.exports.formatError = function (err) {
	var message = err.message;
	var stack = err.stack;
	if (!stack) {
		return message;
	***REMOVED*** else if (stack.indexOf(message) < 0) {
		return message + "\n" + stack;
	***REMOVED***
	return stack;
***REMOVED***;
