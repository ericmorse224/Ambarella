/**
 * @fileoverview Utility functions for propWrapperFunctions setting
 */

'use strict';

const iterFrom = require('es-iterator-helpers/Iterator.from');
const map = require('es-iterator-helpers/Iterator.prototype.map');

/** TODO: type {(string | { name: string, linkAttribute: string ***REMOVED***)[]***REMOVED*** */
/** @type {any***REMOVED*** */
const DEFAULT_LINK_COMPONENTS = ['a'];
const DEFAULT_LINK_ATTRIBUTE = 'href';

/** TODO: type {(string | { name: string, formAttribute: string ***REMOVED***)[]***REMOVED*** */
/** @type {any***REMOVED*** */
const DEFAULT_FORM_COMPONENTS = ['form'];
const DEFAULT_FORM_ATTRIBUTE = 'action';

function getFormComponents(context) {
  const settings = context.settings || {***REMOVED***;
  const formComponents = /** @type {typeof DEFAULT_FORM_COMPONENTS***REMOVED*** */ (
    DEFAULT_FORM_COMPONENTS.concat(settings.formComponents || [])
  );
  return new Map(map(iterFrom(formComponents), (value) => {
    if (typeof value === 'string') {
      return [value, [DEFAULT_FORM_ATTRIBUTE]];
    ***REMOVED***
    return [value.name, [].concat(value.formAttribute)];
  ***REMOVED***));
***REMOVED***

function getLinkComponents(context) {
  const settings = context.settings || {***REMOVED***;
  const linkComponents = /** @type {typeof DEFAULT_LINK_COMPONENTS***REMOVED*** */ (
    DEFAULT_LINK_COMPONENTS.concat(settings.linkComponents || [])
  );
  return new Map(map(iterFrom(linkComponents), (value) => {
    if (typeof value === 'string') {
      return [value, [DEFAULT_LINK_ATTRIBUTE]];
    ***REMOVED***
    return [value.name, [].concat(value.linkAttribute)];
  ***REMOVED***));
***REMOVED***

module.exports = {
  getFormComponents,
  getLinkComponents,
***REMOVED***;
