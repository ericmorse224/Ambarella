"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
***REMOVED***);
exports.correctPath = correctPath;
exports.unixify = unixify;
var isWin = process.platform === 'win32';
function removeTrailingSeparator(str) {
  var i = str.length - 1;
  if (i < 2) {
    return str;
  ***REMOVED***
  while (isSeparator(str, i)) {
    i--;
  ***REMOVED***
  return str.substr(0, i + 1);
***REMOVED***
function isSeparator(str, i) {
  var _char = str[i];
  return i > 0 && (_char === '/' || isWin && _char === '\\');
***REMOVED***
function normalizePath(str, stripTrailing) {
  if (typeof str !== 'string') {
    throw new TypeError('expected a string');
  ***REMOVED***
  str = str.replace(/[\\\/]+/g, '/');
  if (stripTrailing !== false) {
    str = removeTrailingSeparator(str);
  ***REMOVED***
  return str;
***REMOVED***
function unixify(filepath) {
  var stripTrailing = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
  if (isWin) {
    filepath = normalizePath(filepath, stripTrailing);
    return filepath.replace(/^([a-zA-Z]+:|\.\/)/, '');
  ***REMOVED***
  return filepath;
***REMOVED***
function correctPath(filepath) {
  return unixify(filepath.replace(/^\\\\\?\\.:\\/, '\\'));
***REMOVED***