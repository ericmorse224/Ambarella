{{# def.definitions ***REMOVED******REMOVED***
{{# def.errors ***REMOVED******REMOVED***
{{# def.setupKeyword ***REMOVED******REMOVED***
{{# def.setupNextLevel ***REMOVED******REMOVED***


{{## def.validateIfClause:_clause:
  {{
    $it.schema = it.schema['_clause'];
    $it.schemaPath = it.schemaPath + '._clause';
    $it.errSchemaPath = it.errSchemaPath + '/_clause';
  ***REMOVED******REMOVED***
  {{# def.insertSubschemaCode ***REMOVED******REMOVED***
  {{=$valid***REMOVED******REMOVED*** = {{=$nextValid***REMOVED******REMOVED***;
  {{? $thenPresent && $elsePresent ***REMOVED******REMOVED***
    {{ $ifClause = 'ifClause' + $lvl; ***REMOVED******REMOVED***
    var {{=$ifClause***REMOVED******REMOVED*** = '_clause';
  {{??***REMOVED******REMOVED***
    {{ $ifClause = '\'_clause\''; ***REMOVED******REMOVED***
  {{?***REMOVED******REMOVED***
#***REMOVED******REMOVED***

{{
  var $thenSch = it.schema['then']
    , $elseSch = it.schema['else']
    , $thenPresent = $thenSch !== undefined && {{# def.nonEmptySchema:$thenSch ***REMOVED******REMOVED***
    , $elsePresent = $elseSch !== undefined && {{# def.nonEmptySchema:$elseSch ***REMOVED******REMOVED***
    , $currentBaseId = $it.baseId;
***REMOVED******REMOVED***

{{? $thenPresent || $elsePresent ***REMOVED******REMOVED***
  {{
    var $ifClause;
    $it.createErrors = false;
    $it.schema = $schema;
    $it.schemaPath = $schemaPath;
    $it.errSchemaPath = $errSchemaPath;
  ***REMOVED******REMOVED***
  var {{=$errs***REMOVED******REMOVED*** = errors;
  var {{=$valid***REMOVED******REMOVED*** = true;

  {{# def.setCompositeRule ***REMOVED******REMOVED***
  {{# def.insertSubschemaCode ***REMOVED******REMOVED***
  {{ $it.createErrors = true; ***REMOVED******REMOVED***
  {{# def.resetErrors ***REMOVED******REMOVED***
  {{# def.resetCompositeRule ***REMOVED******REMOVED***

  {{? $thenPresent ***REMOVED******REMOVED***
    if ({{=$nextValid***REMOVED******REMOVED***) {
      {{# def.validateIfClause:then ***REMOVED******REMOVED***
    ***REMOVED***
    {{? $elsePresent ***REMOVED******REMOVED***
      else {
    {{?***REMOVED******REMOVED***
  {{??***REMOVED******REMOVED***
    if (!{{=$nextValid***REMOVED******REMOVED***) {
  {{?***REMOVED******REMOVED***

  {{? $elsePresent ***REMOVED******REMOVED***
      {{# def.validateIfClause:else ***REMOVED******REMOVED***
    ***REMOVED***
  {{?***REMOVED******REMOVED***

  if (!{{=$valid***REMOVED******REMOVED***) {
    {{# def.extraError:'if' ***REMOVED******REMOVED***
  ***REMOVED*** 
  {{? $breakOnError ***REMOVED******REMOVED*** else { {{?***REMOVED******REMOVED***
{{??***REMOVED******REMOVED***
  {{? $breakOnError ***REMOVED******REMOVED***
    if (true) {
  {{?***REMOVED******REMOVED***
{{?***REMOVED******REMOVED***

