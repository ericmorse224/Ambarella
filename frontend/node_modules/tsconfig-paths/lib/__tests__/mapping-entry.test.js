"use strict";
Object.defineProperty(exports, "__esModule", { value: true ***REMOVED***);
var mapping_entry_1 = require("../mapping-entry");
var path_1 = require("path");
describe("mapping-entry", function () {
    it("should change to absolute paths and sort in longest prefix order", function () {
        var result = (0, mapping_entry_1.getAbsoluteMappingEntries)("/absolute/base/url", {
            "*": ["/foo1", "/foo2"],
            "longest/pre/fix/*": ["/foo2/bar"],
            "pre/fix/*": ["/foo3"],
        ***REMOVED***, true);
        // assert.deepEqual(result, [
        //   {
        //     pattern: "longest/pre/fix/*",
        //     paths: [join("/absolute", "base", "url", "foo2", "bar")],
        //   ***REMOVED***,
        //   {
        //     pattern: "pre/fix/*",
        //     paths: [join("/absolute", "base", "url", "foo3")],
        //   ***REMOVED***,
        //   {
        //     pattern: "*",
        //     paths: [
        //       join("/absolute", "base", "url", "foo1"),
        //       join("/absolute", "base", "url", "foo2"),
        //     ],
        //   ***REMOVED***,
        // ]);
        expect(result).toEqual([
            {
                pattern: "longest/pre/fix/*",
                paths: [(0, path_1.join)("/absolute", "base", "url", "foo2", "bar")],
            ***REMOVED***,
            {
                pattern: "pre/fix/*",
                paths: [(0, path_1.join)("/absolute", "base", "url", "foo3")],
            ***REMOVED***,
            {
                pattern: "*",
                paths: [
                    (0, path_1.join)("/absolute", "base", "url", "foo1"),
                    (0, path_1.join)("/absolute", "base", "url", "foo2"),
                ],
            ***REMOVED***,
        ]);
    ***REMOVED***);
    it("should should add a match-all pattern when requested", function () {
        var result = (0, mapping_entry_1.getAbsoluteMappingEntries)("/absolute/base/url", {***REMOVED***, true);
        // assert.deepEqual(result, [
        //   {
        //     pattern: "*",
        //     paths: [join("/absolute", "base", "url", "*")],
        //   ***REMOVED***,
        // ]);
        expect(result).toEqual([
            {
                pattern: "*",
                paths: [(0, path_1.join)("/absolute", "base", "url", "*")],
            ***REMOVED***,
        ]);
        result = (0, mapping_entry_1.getAbsoluteMappingEntries)("/absolute/base/url", {***REMOVED***, false);
        // assert.deepEqual(result, []);
        expect(result).toEqual([]);
    ***REMOVED***);
***REMOVED***);
//# sourceMappingURL=mapping-entry.test.js.map