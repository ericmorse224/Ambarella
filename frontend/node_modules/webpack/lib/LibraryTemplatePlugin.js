/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

"use strict";

const EnableLibraryPlugin = require("./library/EnableLibraryPlugin");

/** @typedef {import("../declarations/WebpackOptions").AuxiliaryComment***REMOVED*** AuxiliaryComment */
/** @typedef {import("../declarations/WebpackOptions").LibraryExport***REMOVED*** LibraryExport */
/** @typedef {import("../declarations/WebpackOptions").LibraryName***REMOVED*** LibraryName */
/** @typedef {import("../declarations/WebpackOptions").LibraryType***REMOVED*** LibraryType */
/** @typedef {import("../declarations/WebpackOptions").UmdNamedDefine***REMOVED*** UmdNamedDefine */
/** @typedef {import("./Compiler")***REMOVED*** Compiler */

// TODO webpack 6 remove
class LibraryTemplatePlugin {
	/**
	 * @param {LibraryName***REMOVED*** name name of library
	 * @param {LibraryType***REMOVED*** target type of library
	 * @param {UmdNamedDefine***REMOVED*** umdNamedDefine setting this to true will name the UMD module
	 * @param {AuxiliaryComment***REMOVED*** auxiliaryComment comment in the UMD wrapper
	 * @param {LibraryExport***REMOVED*** exportProperty which export should be exposed as library
	 */
	constructor(name, target, umdNamedDefine, auxiliaryComment, exportProperty) {
		this.library = {
			type: target || "var",
			name,
			umdNamedDefine,
			auxiliaryComment,
			export: exportProperty
		***REMOVED***;
	***REMOVED***

	/**
	 * Apply the plugin
	 * @param {Compiler***REMOVED*** compiler the compiler instance
	 * @returns {void***REMOVED***
	 */
	apply(compiler) {
		const { output ***REMOVED*** = compiler.options;
		output.library = this.library;
		new EnableLibraryPlugin(this.library.type).apply(compiler);
	***REMOVED***
***REMOVED***

module.exports = LibraryTemplatePlugin;
