'use strict'
const fs = require('../fs')
const { checkPath ***REMOVED*** = require('./utils')

const getMode = options => {
  const defaults = { mode: 0o777 ***REMOVED***
  if (typeof options === 'number') return options
  return ({ ...defaults, ...options ***REMOVED***).mode
***REMOVED***

module.exports.makeDir = async (dir, options) => {
  checkPath(dir)

  return fs.mkdir(dir, {
    mode: getMode(options),
    recursive: true
  ***REMOVED***)
***REMOVED***

module.exports.makeDirSync = (dir, options) => {
  checkPath(dir)

  return fs.mkdirSync(dir, {
    mode: getMode(options),
    recursive: true
  ***REMOVED***)
***REMOVED***
