"use strict";
Object.defineProperty(exports, "__esModule", { value: true ***REMOVED***);
const codegen_1 = require("../../compile/codegen");
const error = {
    message: ({ schemaCode ***REMOVED***) => (0, codegen_1.str) `must be multiple of ${schemaCode***REMOVED***`,
    params: ({ schemaCode ***REMOVED***) => (0, codegen_1._) `{multipleOf: ${schemaCode***REMOVED******REMOVED***`,
***REMOVED***;
const def = {
    keyword: "multipleOf",
    type: "number",
    schemaType: "number",
    $data: true,
    error,
    code(cxt) {
        const { gen, data, schemaCode, it ***REMOVED*** = cxt;
        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)
        const prec = it.opts.multipleOfPrecision;
        const res = gen.let("res");
        const invalid = prec
            ? (0, codegen_1._) `Math.abs(Math.round(${res***REMOVED***) - ${res***REMOVED***) > 1e-${prec***REMOVED***`
            : (0, codegen_1._) `${res***REMOVED*** !== parseInt(${res***REMOVED***)`;
        cxt.fail$data((0, codegen_1._) `(${schemaCode***REMOVED*** === 0 || (${res***REMOVED*** = ${data***REMOVED***/${schemaCode***REMOVED***, ${invalid***REMOVED***))`);
    ***REMOVED***,
***REMOVED***;
exports.default = def;
//# sourceMappingURL=multipleOf.js.map