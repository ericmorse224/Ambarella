'use strict';
const { unit, stringify ***REMOVED*** = require('postcss-value-parser');
const mathFunctions = require('../lib/mathfunctions.js');

// border: <line-width> || <line-style> || <color>
// outline: <outline-color> || <outline-style> || <outline-width>

const borderWidths = new Set(['thin', 'medium', 'thick']);

const borderStyles = new Set([
  'none',
  'auto', // only in outline-style
  'hidden',
  'dotted',
  'dashed',
  'solid',
  'double',
  'groove',
  'ridge',
  'inset',
  'outset',
]);

/**
 * @param {import('postcss-value-parser').ParsedValue***REMOVED*** border
 * @return {string***REMOVED***
 */
module.exports = function normalizeBorder(border) {
  const order = { width: '', style: '', color: '' ***REMOVED***;

  border.walk((node) => {
    const { type, value ***REMOVED*** = node;
    if (type === 'word') {
      if (borderStyles.has(value.toLowerCase())) {
        order.style = value;
        return false;
      ***REMOVED***
      if (borderWidths.has(value.toLowerCase()) || unit(value.toLowerCase())) {
        if (order.width !== '') {
          order.width = `${order.width***REMOVED*** ${value***REMOVED***`;
          return false;
        ***REMOVED***
        order.width = value;
        return false;
      ***REMOVED***
      order.color = value;
      return false;
    ***REMOVED***
    if (type === 'function') {
      if (mathFunctions.has(value.toLowerCase())) {
        order.width = stringify(node);
      ***REMOVED*** else {
        order.color = stringify(node);
      ***REMOVED***
      return false;
    ***REMOVED***
  ***REMOVED***);

  return `${order.width***REMOVED*** ${order.style***REMOVED*** ${order.color***REMOVED***`.trim();
***REMOVED***;
