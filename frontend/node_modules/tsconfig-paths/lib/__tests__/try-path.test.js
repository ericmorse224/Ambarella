"use strict";
Object.defineProperty(exports, "__esModule", { value: true ***REMOVED***);
var try_path_1 = require("../try-path");
var path_1 = require("path");
describe("mapping-entry", function () {
    var abosolutePathMappings = [
        {
            pattern: "longest/pre/fix/*",
            paths: [(0, path_1.join)("/absolute", "base", "url", "foo2", "bar")],
        ***REMOVED***,
        { pattern: "pre/fix/*", paths: [(0, path_1.join)("/absolute", "base", "url", "foo3")] ***REMOVED***,
        { pattern: "*", paths: [(0, path_1.join)("/absolute", "base", "url", "foo1")] ***REMOVED***,
    ];
    var abosolutePathMappingsStarstWithSlash = [
        {
            pattern: "/opt/*",
            paths: [(0, path_1.join)("/absolute", "src", "aws-layer")],
        ***REMOVED***,
        {
            pattern: "*",
            paths: [(0, path_1.join)("/absolute", "src")],
        ***REMOVED***,
    ];
    it("should return no paths for relative requested module", function () {
        var result = (0, try_path_1.getPathsToTry)([".ts", "tsx"], abosolutePathMappings, "./requested-module");
        // assert.deepEqual(result, undefined);
        expect(result).toBeUndefined();
    ***REMOVED***);
    it("should return no paths if no pattern match the requested module", function () {
        var result = (0, try_path_1.getPathsToTry)([".ts", "tsx"], [
            {
                pattern: "longest/pre/fix/*",
                paths: [(0, path_1.join)("/absolute", "base", "url", "foo2", "bar")],
            ***REMOVED***,
            {
                pattern: "pre/fix/*",
                paths: [(0, path_1.join)("/absolute", "base", "url", "foo3")],
            ***REMOVED***,
        ], "requested-module");
        expect(result).toBeUndefined();
    ***REMOVED***);
    it("should get all paths that matches requested module", function () {
        var result = (0, try_path_1.getPathsToTry)([".ts", ".tsx"], abosolutePathMappings, "longest/pre/fix/requested-module");
        // assert.deepEqual(result, [
        //   // "longest/pre/fix/*"
        //   { type: "file", path: join("/absolute", "base", "url", "foo2", "bar") ***REMOVED***,
        //   {
        //     type: "extension",
        //     path: join("/absolute", "base", "url", "foo2", "bar.ts"),
        //   ***REMOVED***,
        //   {
        //     type: "extension",
        //     path: join("/absolute", "base", "url", "foo2", "bar.tsx"),
        //   ***REMOVED***,
        //   {
        //     type: "package",
        //     path: join("/absolute", "base", "url", "foo2", "bar", "package.json"),
        //   ***REMOVED***,
        //   {
        //     type: "index",
        //     path: join("/absolute", "base", "url", "foo2", "bar", "index.ts"),
        //   ***REMOVED***,
        //   {
        //     type: "index",
        //     path: join("/absolute", "base", "url", "foo2", "bar", "index.tsx"),
        //   ***REMOVED***,
        //   // "*"
        //   { type: "file", path: join("/absolute", "base", "url", "foo1") ***REMOVED***,
        //   { type: "extension", path: join("/absolute", "base", "url", "foo1.ts") ***REMOVED***,
        //   { type: "extension", path: join("/absolute", "base", "url", "foo1.tsx") ***REMOVED***,
        //   {
        //     type: "package",
        //     path: join("/absolute", "base", "url", "foo1", "package.json"),
        //   ***REMOVED***,
        //   {
        //     type: "index",
        //     path: join("/absolute", "base", "url", "foo1", "index.ts"),
        //   ***REMOVED***,
        //   {
        //     type: "index",
        //     path: join("/absolute", "base", "url", "foo1", "index.tsx"),
        //   ***REMOVED***,
        // ]);
        expect(result).toEqual([
            // "longest/pre/fix/*"
            { type: "file", path: (0, path_1.join)("/absolute", "base", "url", "foo2", "bar") ***REMOVED***,
            {
                type: "extension",
                path: (0, path_1.join)("/absolute", "base", "url", "foo2", "bar.ts"),
            ***REMOVED***,
            {
                type: "extension",
                path: (0, path_1.join)("/absolute", "base", "url", "foo2", "bar.tsx"),
            ***REMOVED***,
            {
                type: "package",
                path: (0, path_1.join)("/absolute", "base", "url", "foo2", "bar", "package.json"),
            ***REMOVED***,
            {
                type: "index",
                path: (0, path_1.join)("/absolute", "base", "url", "foo2", "bar", "index.ts"),
            ***REMOVED***,
            {
                type: "index",
                path: (0, path_1.join)("/absolute", "base", "url", "foo2", "bar", "index.tsx"),
            ***REMOVED***,
            // "*"
            { type: "file", path: (0, path_1.join)("/absolute", "base", "url", "foo1") ***REMOVED***,
            { type: "extension", path: (0, path_1.join)("/absolute", "base", "url", "foo1.ts") ***REMOVED***,
            { type: "extension", path: (0, path_1.join)("/absolute", "base", "url", "foo1.tsx") ***REMOVED***,
            {
                type: "package",
                path: (0, path_1.join)("/absolute", "base", "url", "foo1", "package.json"),
            ***REMOVED***,
            {
                type: "index",
                path: (0, path_1.join)("/absolute", "base", "url", "foo1", "index.ts"),
            ***REMOVED***,
            {
                type: "index",
                path: (0, path_1.join)("/absolute", "base", "url", "foo1", "index.tsx"),
            ***REMOVED***,
        ]);
    ***REMOVED***);
    it("should resolve paths starting with a slash", function () {
        var result = (0, try_path_1.getPathsToTry)([".ts"], abosolutePathMappingsStarstWithSlash, "/opt/utils");
        expect(result).toEqual([
            // "opt/*"
            {
                path: (0, path_1.join)("/absolute", "src", "aws-layer"),
                type: "file",
            ***REMOVED***,
            {
                path: (0, path_1.join)("/absolute", "src", "aws-layer.ts"),
                type: "extension",
            ***REMOVED***,
            {
                path: (0, path_1.join)("/absolute", "src", "aws-layer", "package.json"),
                type: "package",
            ***REMOVED***,
            {
                path: (0, path_1.join)("/absolute", "src", "aws-layer", "index.ts"),
                type: "index",
            ***REMOVED***,
            // "*"
            {
                path: (0, path_1.join)("/absolute", "src"),
                type: "file",
            ***REMOVED***,
            {
                path: (0, path_1.join)("/absolute", "src.ts"),
                type: "extension",
            ***REMOVED***,
            {
                path: (0, path_1.join)("/absolute", "src", "package.json"),
                type: "package",
            ***REMOVED***,
            {
                path: (0, path_1.join)("/absolute", "src", "index.ts"),
                type: "index",
            ***REMOVED***,
        ]);
    ***REMOVED***);
***REMOVED***);
// describe("match-star", () => {
//   it("should match star in last position", () => {
//     const result = matchStar("lib/*", "lib/mylib");
//     assert.equal(result, "mylib");
//   ***REMOVED***);
//   it("should match star in first position", () => {
//     const result = matchStar("*/lib", "mylib/lib");
//     assert.equal(result, "mylib");
//   ***REMOVED***);
// ***REMOVED***);
//# sourceMappingURL=try-path.test.js.map