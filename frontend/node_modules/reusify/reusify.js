'use strict'

function reusify (Constructor) {
  var head = new Constructor()
  var tail = head

  function get () {
    var current = head

    if (current.next) {
      head = current.next
    ***REMOVED*** else {
      head = new Constructor()
      tail = head
    ***REMOVED***

    current.next = null

    return current
  ***REMOVED***

  function release (obj) {
    tail.next = obj
    tail = obj
  ***REMOVED***

  return {
    get: get,
    release: release
  ***REMOVED***
***REMOVED***

module.exports = reusify
