'use strict';

var CSSClassList = function (node) {
  this.parentNode = node;
  this.classNames = new Set();
  const value = node.attributes.class;
  if (value != null) {
    this.addClassValueHandler();
    this.setClassValue(value);
  ***REMOVED***
***REMOVED***;

// attr.class.value

CSSClassList.prototype.addClassValueHandler = function () {
  Object.defineProperty(this.parentNode.attributes, 'class', {
    get: this.getClassValue.bind(this),
    set: this.setClassValue.bind(this),
    enumerable: true,
    configurable: true,
  ***REMOVED***);
***REMOVED***;

CSSClassList.prototype.getClassValue = function () {
  var arrClassNames = Array.from(this.classNames);
  return arrClassNames.join(' ');
***REMOVED***;

CSSClassList.prototype.setClassValue = function (newValue) {
  if (typeof newValue === 'undefined') {
    this.classNames.clear();
    return;
  ***REMOVED***
  var arrClassNames = newValue.split(' ');
  this.classNames = new Set(arrClassNames);
***REMOVED***;

CSSClassList.prototype.add = function (/* variadic */) {
  this.addClassValueHandler();
  Object.values(arguments).forEach(this._addSingle.bind(this));
***REMOVED***;

CSSClassList.prototype._addSingle = function (className) {
  this.classNames.add(className);
***REMOVED***;

CSSClassList.prototype.remove = function (/* variadic */) {
  this.addClassValueHandler();
  Object.values(arguments).forEach(this._removeSingle.bind(this));
***REMOVED***;

CSSClassList.prototype._removeSingle = function (className) {
  this.classNames.delete(className);
***REMOVED***;

CSSClassList.prototype.item = function (index) {
  var arrClassNames = Array.from(this.classNames);
  return arrClassNames[index];
***REMOVED***;

CSSClassList.prototype.toggle = function (className, force) {
  if (this.contains(className) || force === false) {
    this.classNames.delete(className);
  ***REMOVED***
  this.classNames.add(className);
***REMOVED***;

CSSClassList.prototype.contains = function (className) {
  return this.classNames.has(className);
***REMOVED***;

module.exports = CSSClassList;
