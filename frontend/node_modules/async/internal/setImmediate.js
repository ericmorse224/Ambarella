'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
***REMOVED***);
exports.fallback = fallback;
exports.wrap = wrap;
/* istanbul ignore file */

var hasQueueMicrotask = exports.hasQueueMicrotask = typeof queueMicrotask === 'function' && queueMicrotask;
var hasSetImmediate = exports.hasSetImmediate = typeof setImmediate === 'function' && setImmediate;
var hasNextTick = exports.hasNextTick = typeof process === 'object' && typeof process.nextTick === 'function';

function fallback(fn) {
    setTimeout(fn, 0);
***REMOVED***

function wrap(defer) {
    return (fn, ...args) => defer(() => fn(...args));
***REMOVED***

var _defer;

if (hasQueueMicrotask) {
    _defer = queueMicrotask;
***REMOVED*** else if (hasSetImmediate) {
    _defer = setImmediate;
***REMOVED*** else if (hasNextTick) {
    _defer = process.nextTick;
***REMOVED*** else {
    _defer = fallback;
***REMOVED***

exports.default = wrap(_defer);