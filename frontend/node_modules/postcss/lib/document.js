'use strict'

let Container = require('./container')

let LazyResult, Processor

class Document extends Container {
  constructor(defaults) {
    // type needs to be passed to super, otherwise child roots won't be normalized correctly
    super({ type: 'document', ...defaults ***REMOVED***)

    if (!this.nodes) {
      this.nodes = []
    ***REMOVED***
  ***REMOVED***

  toResult(opts = {***REMOVED***) {
    let lazy = new LazyResult(new Processor(), this, opts)

    return lazy.stringify()
  ***REMOVED***
***REMOVED***

Document.registerLazyResult = dependant => {
  LazyResult = dependant
***REMOVED***

Document.registerProcessor = dependant => {
  Processor = dependant
***REMOVED***

module.exports = Document
Document.default = Document
