"use strict";

/** @typedef {import('eslint').ESLint***REMOVED*** ESLint */

/** @typedef {import('eslint').ESLint.Options***REMOVED*** ESLintOptions */
Object.assign(module.exports, {
  lintFiles,
  setup
***REMOVED***);
/** @type {{ new (arg0: import("eslint").ESLint.Options): import("eslint").ESLint; outputFixes: (arg0: import("eslint").ESLint.LintResult[]) => any; ***REMOVED******REMOVED*** */

let ESLint;
/** @type {ESLint***REMOVED*** */

let eslint;
/** @type {boolean***REMOVED*** */

let fix;
/**
 * @typedef {object***REMOVED*** setupOptions
 * @property {string=***REMOVED*** eslintPath - import path of eslint
 * @property {ESLintOptions=***REMOVED*** eslintOptions - linter options
 *
 * @param {setupOptions***REMOVED*** arg0 - setup worker
 */

function setup({
  eslintPath,
  eslintOptions = {***REMOVED***
***REMOVED***) {
  fix = !!(eslintOptions && eslintOptions.fix);
  ({
    ESLint
  ***REMOVED*** = require(eslintPath || 'eslint'));
  eslint = new ESLint(eslintOptions);
***REMOVED***
/**
 * @param {string | string[]***REMOVED*** files
 */


async function lintFiles(files) {
  const result = await eslint.lintFiles(files); // if enabled, use eslint autofixing where possible

  if (fix) {
    await ESLint.outputFixes(result);
  ***REMOVED***

  return result;
***REMOVED***