// Generated by CoffeeScript 1.12.7
var object, self,
  hasProp = {***REMOVED***.hasOwnProperty;

object = require('utila').object;

module.exports = self = {
  sanitize: function(val) {
    return self._toChildren(val);
  ***REMOVED***,
  _toChildren: function(val) {
    var ref;
    if (object.isBareObject(val)) {
      return self._objectToChildren(val);
    ***REMOVED*** else if (Array.isArray(val)) {
      return self._arrayToChildren(val);
    ***REMOVED*** else if (val === null || typeof val === 'undefined') {
      return [];
    ***REMOVED*** else if ((ref = typeof val) === 'string' || ref === 'number') {
      return [String(val)];
    ***REMOVED*** else {
      throw Error("not a valid child node: `" + val);
    ***REMOVED***
  ***REMOVED***,
  _objectToChildren: function(o) {
    var a, cur, key, val;
    a = [];
    for (key in o) {
      if (!hasProp.call(o, key)) continue;
      val = o[key];
      cur = {***REMOVED***;
      cur[key] = self.sanitize(val);
      a.push(cur);
    ***REMOVED***
    return a;
  ***REMOVED***,
  _arrayToChildren: function(a) {
    var i, len, ret, v;
    ret = [];
    for (i = 0, len = a.length; i < len; i++) {
      v = a[i];
      ret.push(self._toNode(v));
    ***REMOVED***
    return ret;
  ***REMOVED***,
  _toNode: function(o) {
    var key, keys, obj, ref;
    if ((ref = typeof o) === 'string' || ref === 'number') {
      return String(o);
    ***REMOVED*** else if (object.isBareObject(o)) {
      keys = Object.keys(o);
      if (keys.length !== 1) {
        throw Error("a node must only have one key as tag name");
      ***REMOVED***
      key = keys[0];
      obj = {***REMOVED***;
      obj[key] = self._toChildren(o[key]);
      return obj;
    ***REMOVED*** else {
      throw Error("not a valid node: `" + o + "`");
    ***REMOVED***
  ***REMOVED***
***REMOVED***;
