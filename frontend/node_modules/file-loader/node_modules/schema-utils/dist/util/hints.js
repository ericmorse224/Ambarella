"use strict";

const Range = require("./Range");
/** @typedef {import("../validate").Schema***REMOVED*** Schema */

/**
 * @param {Schema***REMOVED*** schema
 * @param {boolean***REMOVED*** logic
 * @return {string[]***REMOVED***
 */


module.exports.stringHints = function stringHints(schema, logic) {
  const hints = [];
  let type = "string";
  const currentSchema = { ...schema
  ***REMOVED***;

  if (!logic) {
    const tmpLength = currentSchema.minLength;
    const tmpFormat = currentSchema.formatMinimum;
    const tmpExclusive = currentSchema.formatExclusiveMaximum;
    currentSchema.minLength = currentSchema.maxLength;
    currentSchema.maxLength = tmpLength;
    currentSchema.formatMinimum = currentSchema.formatMaximum;
    currentSchema.formatMaximum = tmpFormat;
    currentSchema.formatExclusiveMaximum = !currentSchema.formatExclusiveMinimum;
    currentSchema.formatExclusiveMinimum = !tmpExclusive;
  ***REMOVED***

  if (typeof currentSchema.minLength === "number") {
    if (currentSchema.minLength === 1) {
      type = "non-empty string";
    ***REMOVED*** else {
      const length = Math.max(currentSchema.minLength - 1, 0);
      hints.push(`should be longer than ${length***REMOVED*** character${length > 1 ? "s" : ""***REMOVED***`);
    ***REMOVED***
  ***REMOVED***

  if (typeof currentSchema.maxLength === "number") {
    if (currentSchema.maxLength === 0) {
      type = "empty string";
    ***REMOVED*** else {
      const length = currentSchema.maxLength + 1;
      hints.push(`should be shorter than ${length***REMOVED*** character${length > 1 ? "s" : ""***REMOVED***`);
    ***REMOVED***
  ***REMOVED***

  if (currentSchema.pattern) {
    hints.push(`should${logic ? "" : " not"***REMOVED*** match pattern ${JSON.stringify(currentSchema.pattern)***REMOVED***`);
  ***REMOVED***

  if (currentSchema.format) {
    hints.push(`should${logic ? "" : " not"***REMOVED*** match format ${JSON.stringify(currentSchema.format)***REMOVED***`);
  ***REMOVED***

  if (currentSchema.formatMinimum) {
    hints.push(`should be ${currentSchema.formatExclusiveMinimum ? ">" : ">="***REMOVED*** ${JSON.stringify(currentSchema.formatMinimum)***REMOVED***`);
  ***REMOVED***

  if (currentSchema.formatMaximum) {
    hints.push(`should be ${currentSchema.formatExclusiveMaximum ? "<" : "<="***REMOVED*** ${JSON.stringify(currentSchema.formatMaximum)***REMOVED***`);
  ***REMOVED***

  return [type].concat(hints);
***REMOVED***;
/**
 * @param {Schema***REMOVED*** schema
 * @param {boolean***REMOVED*** logic
 * @return {string[]***REMOVED***
 */


module.exports.numberHints = function numberHints(schema, logic) {
  const hints = [schema.type === "integer" ? "integer" : "number"];
  const range = new Range();

  if (typeof schema.minimum === "number") {
    range.left(schema.minimum);
  ***REMOVED***

  if (typeof schema.exclusiveMinimum === "number") {
    range.left(schema.exclusiveMinimum, true);
  ***REMOVED***

  if (typeof schema.maximum === "number") {
    range.right(schema.maximum);
  ***REMOVED***

  if (typeof schema.exclusiveMaximum === "number") {
    range.right(schema.exclusiveMaximum, true);
  ***REMOVED***

  const rangeFormat = range.format(logic);

  if (rangeFormat) {
    hints.push(rangeFormat);
  ***REMOVED***

  if (typeof schema.multipleOf === "number") {
    hints.push(`should${logic ? "" : " not"***REMOVED*** be multiple of ${schema.multipleOf***REMOVED***`);
  ***REMOVED***

  return hints;
***REMOVED***;