'use strict';

const utils = require('./utils');

module.exports = (ast, options = {***REMOVED***) => {
  const stringify = (node, parent = {***REMOVED***) => {
    const invalidBlock = options.escapeInvalid && utils.isInvalidBrace(parent);
    const invalidNode = node.invalid === true && options.escapeInvalid === true;
    let output = '';

    if (node.value) {
      if ((invalidBlock || invalidNode) && utils.isOpenOrClose(node)) {
        return '\\' + node.value;
      ***REMOVED***
      return node.value;
    ***REMOVED***

    if (node.value) {
      return node.value;
    ***REMOVED***

    if (node.nodes) {
      for (const child of node.nodes) {
        output += stringify(child);
      ***REMOVED***
    ***REMOVED***
    return output;
  ***REMOVED***;

  return stringify(ast);
***REMOVED***;

