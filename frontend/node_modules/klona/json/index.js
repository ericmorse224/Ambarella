function klona(val) {
	var k, out, tmp;

	if (Array.isArray(val)) {
		out = Array(k=val.length);
		while (k--) out[k] = (tmp=val[k]) && typeof tmp === 'object' ? klona(tmp) : tmp;
		return out;
	***REMOVED***

	if (Object.prototype.toString.call(val) === '[object Object]') {
		out = {***REMOVED***; // null
		for (k in val) {
			if (k === '__proto__') {
				Object.defineProperty(out, k, {
					value: klona(val[k]),
					configurable: true,
					enumerable: true,
					writable: true,
				***REMOVED***);
			***REMOVED*** else {
				out[k] = (tmp=val[k]) && typeof tmp === 'object' ? klona(tmp) : tmp;
			***REMOVED***
		***REMOVED***
		return out;
	***REMOVED***

	return val;
***REMOVED***

exports.klona = klona;