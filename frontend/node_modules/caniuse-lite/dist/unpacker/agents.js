'use strict'

const browsers = require('./browsers').browsers
const versions = require('./browserVersions').browserVersions
const agentsData = require('../../data/agents')

function unpackBrowserVersions(versionsData) {
  return Object.keys(versionsData).reduce((usage, version) => {
    usage[versions[version]] = versionsData[version]
    return usage
  ***REMOVED***, {***REMOVED***)
***REMOVED***

module.exports.agents = Object.keys(agentsData).reduce((map, key) => {
  let versionsData = agentsData[key]
  map[browsers[key]] = Object.keys(versionsData).reduce((data, entry) => {
    if (entry === 'A') {
      data.usage_global = unpackBrowserVersions(versionsData[entry])
    ***REMOVED*** else if (entry === 'C') {
      data.versions = versionsData[entry].reduce((list, version) => {
        if (version === '') {
          list.push(null)
        ***REMOVED*** else {
          list.push(versions[version])
        ***REMOVED***
        return list
      ***REMOVED***, [])
    ***REMOVED*** else if (entry === 'D') {
      data.prefix_exceptions = unpackBrowserVersions(versionsData[entry])
    ***REMOVED*** else if (entry === 'E') {
      data.browser = versionsData[entry]
    ***REMOVED*** else if (entry === 'F') {
      data.release_date = Object.keys(versionsData[entry]).reduce(
        (map2, key2) => {
          map2[versions[key2]] = versionsData[entry][key2]
          return map2
        ***REMOVED***,
        {***REMOVED***
      )
    ***REMOVED*** else {
      // entry is B
      data.prefix = versionsData[entry]
    ***REMOVED***
    return data
  ***REMOVED***, {***REMOVED***)
  return map
***REMOVED***, {***REMOVED***)
