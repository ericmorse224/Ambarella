"use strict";

var memo = {***REMOVED***;

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      ***REMOVED*** catch (e) {
        // istanbul ignore next
        styleTarget = null;
      ***REMOVED***
    ***REMOVED***
    memo[target] = styleTarget;
  ***REMOVED***
  return memo[target];
***REMOVED***

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  ***REMOVED***
  target.appendChild(style);
***REMOVED***
module.exports = insertBySelector;