export = CssMinimizerPlugin;
/**
 * @template [T=CssNanoOptionsExtended]
 */
declare class CssMinimizerPlugin<T = CssNanoOptionsExtended> {
  /**
   * @private
   * @param {any***REMOVED*** input
   * @returns {boolean***REMOVED***
   */
  private static isSourceMap;
  /**
   * @private
   * @param {Warning | WarningObject | string***REMOVED*** warning
   * @param {string***REMOVED*** file
   * @param {WarningsFilter***REMOVED*** [warningsFilter]
   * @param {SourceMapConsumer***REMOVED*** [sourceMap]
   * @param {Compilation["requestShortener"]***REMOVED*** [requestShortener]
   * @returns {Error & { hideStack?: boolean, file?: string ***REMOVED*** | undefined***REMOVED***
   */
  private static buildWarning;
  /**
   * @private
   * @param {Error | ErrorObject | string***REMOVED*** error
   * @param {string***REMOVED*** file
   * @param {SourceMapConsumer***REMOVED*** [sourceMap]
   * @param {Compilation["requestShortener"]***REMOVED*** [requestShortener]
   * @returns {Error***REMOVED***
   */
  private static buildError;
  /**
   * @private
   * @param {Parallel***REMOVED*** parallel
   * @returns {number***REMOVED***
   */
  private static getAvailableNumberOfCores;
  /**
   * @param {BasePluginOptions & DefinedDefaultMinimizerAndOptions<T>***REMOVED*** [options]
   */
  constructor(
    options?:
      | (BasePluginOptions & DefinedDefaultMinimizerAndOptions<T>)
      | undefined
  );
  /**
   * @private
   * @type {InternalPluginOptions<T>***REMOVED***
   */
  private options;
  /**
   * @private
   * @param {Compiler***REMOVED*** compiler
   * @param {Compilation***REMOVED*** compilation
   * @param {Record<string, import("webpack").sources.Source>***REMOVED*** assets
   * @param {{availableNumberOfCores: number***REMOVED******REMOVED*** optimizeOptions
   * @returns {Promise<void>***REMOVED***
   */
  private optimize;
  /**
   * @param {Compiler***REMOVED*** compiler
   * @returns {void***REMOVED***
   */
  apply(compiler: Compiler): void;
***REMOVED***
declare namespace CssMinimizerPlugin {
  export {
    cssnanoMinify,
    cssoMinify,
    cleanCssMinify,
    esbuildMinify,
    parcelCssMinify,
    Schema,
    Compiler,
    Compilation,
    WebpackError,
    JestWorker,
    RawSourceMap,
    Asset,
    ProcessOptions,
    Syntax,
    Parser,
    Stringifier,
    CssNanoOptions,
    Warning,
    WarningObject,
    ErrorObject,
    MinimizedResult,
    Input,
    CustomOptions,
    InferDefaultType,
    BasicMinimizerImplementation,
    MinimizerImplementation,
    MinimizerOptions,
    InternalOptions,
    InternalResult,
    Parallel,
    Rule,
    Rules,
    WarningsFilter,
    BasePluginOptions,
    MinimizerWorker,
    ProcessOptionsExtender,
    CssNanoOptionsExtended,
    DefinedDefaultMinimizerAndOptions,
    InternalPluginOptions,
  ***REMOVED***;
***REMOVED***
type CssNanoOptionsExtended = CssNanoOptions & {
  processorOptions?: ProcessOptionsExtender;
***REMOVED***;
type Compiler = import("webpack").Compiler;
type BasePluginOptions = {
  test?: Rules | undefined;
  include?: Rules | undefined;
  exclude?: Rules | undefined;
  warningsFilter?: WarningsFilter | undefined;
  parallel?: Parallel;
***REMOVED***;
type DefinedDefaultMinimizerAndOptions<T> = T extends CssNanoOptionsExtended
  ? {
      minify?: MinimizerImplementation<T> | undefined;
      minimizerOptions?: MinimizerOptions<T> | undefined;
    ***REMOVED***
  : {
      minify: MinimizerImplementation<T>;
      minimizerOptions?: MinimizerOptions<T> | undefined;
    ***REMOVED***;
import { cssnanoMinify ***REMOVED*** from "./utils";
import { cssoMinify ***REMOVED*** from "./utils";
import { cleanCssMinify ***REMOVED*** from "./utils";
import { esbuildMinify ***REMOVED*** from "./utils";
import { parcelCssMinify ***REMOVED*** from "./utils";
type Schema = import("schema-utils/declarations/validate").Schema;
type Compilation = import("webpack").Compilation;
type WebpackError = import("webpack").WebpackError;
type JestWorker = import("jest-worker").Worker;
type RawSourceMap = import("source-map").RawSourceMap;
type Asset = import("webpack").Asset;
type ProcessOptions = import("postcss").ProcessOptions;
type Syntax = import("postcss").Syntax;
type Parser = import("postcss").Parser;
type Stringifier = import("postcss").Stringifier;
type CssNanoOptions = {
  configFile?: string | undefined;
  preset?: [string, object] | string | undefined;
***REMOVED***;
type Warning =
  | (Error & {
      plugin?: string;
      text?: string;
      source?: string;
    ***REMOVED***)
  | string;
type WarningObject = {
  message: string;
  plugin?: string | undefined;
  text?: string | undefined;
  line?: number | undefined;
  column?: number | undefined;
***REMOVED***;
type ErrorObject = {
  message: string;
  line?: number | undefined;
  column?: number | undefined;
  stack?: string | undefined;
***REMOVED***;
type MinimizedResult = {
  code: string;
  map?: import("source-map").RawSourceMap | undefined;
  errors?: (string | Error | ErrorObject)[] | undefined;
  warnings?: (Warning | WarningObject)[] | undefined;
***REMOVED***;
type Input = {
  [file: string]: string;
***REMOVED***;
type CustomOptions = {
  [key: string]: any;
***REMOVED***;
type InferDefaultType<T> = T extends infer U ? U : CustomOptions;
type BasicMinimizerImplementation<T> = (
  input: Input,
  sourceMap: RawSourceMap | undefined,
  minifyOptions: InferDefaultType<T>
) => Promise<MinimizedResult>;
type MinimizerImplementation<T> = T extends any[]
  ? { [P in keyof T]: BasicMinimizerImplementation<T[P]> ***REMOVED***
  : BasicMinimizerImplementation<T>;
type MinimizerOptions<T> = T extends any[]
  ? { [P in keyof T]?: InferDefaultType<T[P]> | undefined ***REMOVED***
  : InferDefaultType<T>;
type InternalOptions<T> = {
  name: string;
  input: string;
  inputSourceMap: RawSourceMap | undefined;
  minimizer: {
    implementation: MinimizerImplementation<T>;
    options: MinimizerOptions<T>;
  ***REMOVED***;
***REMOVED***;
type InternalResult = {
  outputs: Array<{
    code: string;
    map: RawSourceMap | undefined;
  ***REMOVED***>;
  warnings: Array<Warning | WarningObject | string>;
  errors: Array<Error | ErrorObject | string>;
***REMOVED***;
type Parallel = undefined | boolean | number;
type Rule = RegExp | string;
type Rules = Rule[] | Rule;
type WarningsFilter = (
  warning: Warning | WarningObject | string,
  file: string,
  source?: string | undefined
) => boolean;
type MinimizerWorker<T> = Worker & {
  transform: (options: string) => InternalResult;
  minify: (options: InternalOptions<T>) => InternalResult;
***REMOVED***;
type ProcessOptionsExtender =
  | ProcessOptions
  | {
      from?: string;
      to?: string;
      parser?: string | Syntax | Parser;
      stringifier?: string | Syntax | Stringifier;
      syntax?: string | Syntax;
    ***REMOVED***;
type InternalPluginOptions<T> = BasePluginOptions & {
  minimizer: {
    implementation: MinimizerImplementation<T>;
    options: MinimizerOptions<T>;
  ***REMOVED***;
***REMOVED***;
import { minify ***REMOVED*** from "./minify";
import { Worker ***REMOVED*** from "jest-worker";
